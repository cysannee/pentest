$(document).ready(function() {
    var $tweetDots = $('.tweet-circles .fa-circle'); // dots under tweet
    var $tweetP = $('.tweet-p'); // tweet paragragh
    var timer; // for setInterval. Changes tweets
    var index = 0; // reference to current tweet paragraph and dot
    var tweets = [
        'The #Mystery Inc Team are en route to France! Please donate to show your support and we will promise... https://bit.ly/lvdWgds',
        'Cosectetur adipiscing elit. Donec libero lorem, pellentesque viverra felis.',
        'Pentest is an ISO 27001 & 9001 certified organisation, committed to providing an unparalleled service.'
    ]; // tweet texts
    var tl = new TimelineMax(); // GSAP animation timeline
    
    function tweetCarousel() {
        timer = setInterval(nextTweet, 5000);
    }
    
    function nextTweet() {
        $tweetDots.eq(index).removeClass('active');
        index = (index < 2) ? index + 1 : 0;
        $tweetDots.eq(index).addClass('active');
        tl
        .to($tweetP, 1, {x:'100%', autoAlpha: 0, ease:Back.easeIn.config(1)})
        .add(function() { 
            $tweetP.text(tweets[index]);
        })
        .to($tweetP, 1, {x:'0%', autoAlpha: 1, ease:Back.easeOut.config(1), delay: 0.5});
    }

    tweetCarousel();
});